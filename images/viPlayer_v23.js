var vlPlayer=function(b){var p={},g=false;var t,u,a,d,x;var y=25,n;var k="//assets."+b.baseDomain+"/plugins/vlPlayer";var v=function(B){p.type=B.type||"instream";p.vastUrl=B.vastUrl||null;p.vastXML=B.vastXML||null;p.adWidth=B.adWidth||null;p.adHeight=B.adHeight||null;p.divID=B.divID||null;p.adElement=B.adElement||null;p.issetClick=B.issetClick||null;p.loadingText=B.loadingText||null;p.start=B.start||function(){};p.complete=B.complete||function(){};p.error=B.error||function(){};p.impression=B.impression||function(){};p.hidden=B.hidden||function(){};p.volumeControl=B.volumeControl||false;p.vastLoadTimeout=B.vastLoadTimeout||20000;p.loadVideoTimeout=B.loadVideoTimeout||60000;p.adsVolumeChange=B.adsVolumeChange||function(){};if((!p.vastUrl&&!p.vastXML)||(!p.divID&&!p.adElement)){return}switch(p.type){case"instream":p.defaultVolume=B.volume||1;n="vlAdcontainer_instream";break;case"outstream":y=0;p.defaultVolume=B.volume||0;n="vlAdcontainer_outstream";break;case"instreamBanner":y=0;p.defaultVolume=B.volume||0;n="vlAdcontainer_instreamBanner";break}q("Ad Volume____"+p.defaultVolume);l();return{pause:function(){q("Ad pause");if(t){q("Ad is paused")}if(t){t.pause()}},resume:function(){q("Ad resume");if(t){t.resume()}},resize:function(C,D,E){q("Ad resize");E=="FULLSCREEN"?E=google.ima.ViewMode.FULLSCREEN:E=google.ima.ViewMode.NORMAL;if(t){t.resize(C,D,E)}if(x){x.getElementById("vi_adwrapper").style.height=D+"px"}}}},l=function(){x=s();var B=x.getElementById(n);B.appendChild(w());a=x.getElementById("viVideoContent");google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE);google.ima.settings.setDisableCustomPlaybackForIOS10Plus(true);u=new google.ima.AdDisplayContainer(B,a);u.initialize();m();o(B)},o=function(D){if(p.type=="outstream"&&!p.volumeControl){var C=function(){p.issetClick=true;document.body.removeEventListener("click",C)};document.body.addEventListener("click",C);D.addEventListener("mouseover",function(){if(p.issetClick==true){if(t){t.setVolume(1)}}});D.addEventListener("mouseout",function(){if(t){t.setVolume(0)}})}if(p.volumeControl){var B=x.getElementById("vi_toggleVolume");B.addEventListener("click",function(){if(t.getVolume()==0){q("sound on");t.setVolume(1);B.classList.remove("sound_off");B.classList.add("sound_on")}else{q("sound off");t.setVolume(0);B.classList.remove("sound_on");B.classList.add("sound_off")}p.adsVolumeChange(t.getVolume())})}},m=function(){var C=new google.ima.AdsRequest();C.forceNonLinearFullSlot=true;C.vastLoadTimeout=p.vastLoadTimeout;C.adTagUrl=p.vastUrl;C.adsResponse=p.vastXML;C.linearAdSlotWidth=p.adWidth;C.linearAdSlotHeight=p.adHeight-y;C.nonLinearAdSlotWidth=p.adWidth;C.nonLinearAdSlotHeight=p.adHeight-y;var B=new google.ima.AdsLoader(u);B.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r,false);B.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e,false);C.setAdWillAutoPlay(false);C.setAdWillPlayMuted((p.defaultVolume==0?true:false));B.requestAds(C)},r=function(C){var B=new google.ima.AdsRenderingSettings();B.loadVideoTimeout=p.loadVideoTimeout;t=C.getAdsManager(a,B);t.setVolume(p.defaultVolume);t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e);t.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,A);t.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,j);t.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,c);t.addEventListener(google.ima.AdEvent.Type.LOADED,f);t.addEventListener(google.ima.AdEvent.Type.STARTED,f);t.addEventListener(google.ima.AdEvent.Type.COMPLETE,i);t.addEventListener(google.ima.AdEvent.Type.IMPRESSION,z);try{t.init(p.adWidth,p.adHeight-y,google.ima.ViewMode.NORMAL);t.start()}catch(D){e(D)}},z=function(B){p.impression()},f=function(C){var F=C.getAd();switch(C.type){case google.ima.AdEvent.Type.LOADED:break;case google.ima.AdEvent.Type.STARTED:h();p.start();if(p.type!="instream"){return}if(F.isLinear()){x.getElementById("vlMessageBox").style.display="none";var D=x.createElement("div");D.setAttribute("style","position:absolute;height:25px;background:#e5bb00;width:0%");D.setAttribute("id","progress");x.getElementById("vlMessage").appendChild(D);var E=t.getRemainingTime();var B=(function(N){var M,K,O,G;K=0;G=0;O=0;var I={time:E,stepPerSecond:20,bgCorver:"#002b50",bgMain:"#009cff"};function J(Q){return N.querySelector(Q)}function H(R){var Q;Q=J("#progress");if(Q){Q.style.width=R+"%"}}function P(Q){I=Object.assign(I,Q);O=I.time*I.stepPerSecond;G=100/O}function L(){if(++K>O){clearTimeout(M);return}H(K*G);M=setTimeout(L,1000/I.stepPerSecond)}return{init:function(Q){P(Q)},run:function(){L()}}})(x);B.init({time:E,stepPerSecond:20});B.run()}break}},i=function(B){q("Ad Complete");p.complete()},c=function(B){q("All Ad Complete")},e=function(B){q(B.getError());p.error(B.getError().getErrorCode());if(t){t.destroy()}},A=function(){},j=function(){q("Resume player___________");p.hidden()},h=function(){d.style.background="#000";if(p.volumeControl){x.getElementById("vi_toggleVolume").style.display="block"}},s=function(){var F=new Date();d=p.adElement?p.adElement:document.getElementById(p.divID);var C="ifr_"+p.type+"_"+F.getTime();var G='<iframe id="'+C+'" SRC="about:blank" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" style="border: 0px; vertical-align: bottom;width:100%;height:100%"></iframe>';d.style.cssText="z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0; left: 0; background: "+(p.type==="instream"?"#000":"transparent")+"; display:block;padding:0;margin:0";d.innerHTML=G;var D=d.querySelector("#"+C);var E=(D.contentWindow||D.contentDocument);if(E.document){E=E.document}p.adWidth=!p.adWidth?d.offsetWidth:p.adWidth;p.adHeight=!p.adHeight?d.offsetHeight:p.adHeight;var B="<style>#vi_adwrapper{position:relative;width:100%;height:"+(p.adHeight-y)+"px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}#vlMessage{position:relative;height:"+y+"px;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;align-items:center;width:100%;border-top:1px solid #aaa;background:#000}#vlMessageBox{padding-left:5px;color:#999;font-family:Arial;font-size:10pt}#vlueimpression{position:absolute;z-index:10;top:2px;right:0;background-image:url("+k+"/static/vli.svg);background-repeat:no-repeat;width:85px;height:22px;background-size:82px}#vi_toggleVolume{position:absolute;z-index:9999; left:10px;bottom:6px;cursor:pointer}.sound_on .vi__muted{display:none}.sound_off .vi__volume{display:none}</style>";B+='<div id="vi_adwrapper">';B+='<div id="'+n+'" style="width:100%;height:100%"></div>';if(p.volumeControl){B+='<div id="vi_toggleVolume" class="'+(p.defaultVolume===1?"sound_on":"sound_off")+'" style="display: none">';B+='<div class="vi__muted"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="1.3em" height="1.3em" viewBox="0 0 124.625 124.625" style="enable-background:new 0 0 124.625 124.625;" xml:space="preserve"> <g> <path d="M6,92.404h23.1l25.6,19.3c4,3,9.601,0.2,9.601-4.8v-89.2c0-4.9-5.701-7.8-9.601-4.8l-25.6,19.3H6c-3.3,0-6,2.7-6,6v48.301 C0,89.704,2.7,92.404,6,92.404z" fill="#00cf7d"></path> <path d="M122.4,40.604c-2.7-2.7-7.2-2.7-9.9,0l-11.8,11.8l-11.8-11.8c-2.7-2.7-7.2-2.7-9.9,0c-2.699,2.7-2.699,7.2,0,9.9 l11.801,11.8L79,74.104c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,5,2.1c1.801,0,3.6-0.7,5-2.1l11.801-11.801L112.6,84.004 c1.4,1.399,3.201,2.1,5,2.1c1.801,0,3.601-0.7,5-2.1c2.701-2.7,2.701-7.2,0-9.9l-12-11.8l11.801-11.8 C125.1,47.804,125.1,43.304,122.4,40.604z" fill="#00cf7d"></path> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg></div>';B+='<div class="vi__volume"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="1.3em" height="1.3em" viewBox="0 0 115.3 115.3" style="enable-background:new 0 0 115.3 115.3;" xml:space="preserve"> <g> <path d="M47.9,14.306L26,30.706H6c-3.3,0-6,2.7-6,6v41.8c0,3.301,2.7,6,6,6h20l21.9,16.4c4,3,9.6,0.2,9.6-4.8v-77 C57.5,14.106,51.8,11.306,47.9,14.306z" fill="#00cf7d"></path> <path d="M77.3,24.106c-2.7-2.7-7.2-2.7-9.899,0c-2.7,2.7-2.7,7.2,0,9.9c13,13,13,34.101,0,47.101c-2.7,2.7-2.7,7.2,0,9.899 c1.399,1.4,3.199,2,4.899,2s3.601-0.699,4.9-2.1C95.8,72.606,95.8,42.606,77.3,24.106z" fill="#00cf7d"></path> <path d="M85.1,8.406c-2.699,2.7-2.699,7.2,0,9.9c10.5,10.5,16.301,24.4,16.301,39.3s-5.801,28.8-16.301,39.3 c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,4.9,2.1c1.8,0,3.6-0.7,4.9-2c13.1-13.1,20.399-30.6,20.399-49.2 c0-18.6-7.2-36-20.399-49.2C92.3,5.706,87.9,5.706,85.1,8.406z" fill="#00cf7d"></path> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg></div>';B+="</div>"}B+="</div>";if(p.type==="instream"){B+='<div id="vlMessage">';B+="<div id='vlMessageBox'>"+p.loadingText+"</div><div id='vlueimpression'></div>";B+="</div>"}E.open();E.write(B);E.close();return E},w=function(){var E=x.createElement("video");var C=x.createElement("source");C.type="video/mp4";C.src=k+"/static/vid.mp4";E.appendChild(C);var D=x.createElement("source");D.type="video/webm";D.src=k+"/static/vid.webm";E.appendChild(D);var B=x.createElement("source");B.type="video/ogg";B.src=k+"/static/vid.ogv";E.appendChild(B);E.setAttribute("style","position: absolute;z-index: -1;width: 100%;height: 100%;display:none");E.setAttribute("id","viVideoContent");E.setAttribute("playsinline","");return E},q=function(B){if("string"===typeof B){var C=(new Date).toLocaleTimeString();C+=":"+(new Date).getMilliseconds();window.console.log.apply(console,["%cVLI_ADPLAYER","display: inline-block; color: #fff; background: #DD0420; padding: 1px 4px; border-radius: 3px;",C,B])}else{console.log(B)}};return{play:function(B){return v(B)},createAdContainer:function(B){p.divID=B.divID||null;p.type=B.type||"instream";p.loadingText=B.loadingText||null;s();d.style.background="#000"}}};